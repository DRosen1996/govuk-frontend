{% extends "layout-debug.njk" %}

{% from "breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "details/macro.njk" import govukDetails %}

{% block content %}
  {{ govukBreadcrumbs({
    items: [
      { text: 'GOV.UK Frontend', href: '/' },
      { text: title }
    ]
  }) }}

  <div class="govuk-o-main-wrapper">
    <h1 class="govuk-heading-xl">{{ title }}</h1>
    {% for example in examples %}
      {% set previewLink =  example.name  + "/preview" %}

      <div class="govuk-heading-m">
        <h3 class="app-!-di">{{ example.name }}</h3>
        <a href="{{ previewLink }}" class="govuk-link govuk-!-ml-r1 govuk-!-f-16">
          (open in a new window)
        </a>
      </div>

      {% if example.description %}
        <p class="govuk-body">
          {{ example.description }}
        </p>
      {% endif %}

      <div class="app-c-component-preview govuk-!-mb-r4">
        <iframe
          class="js-component-preview app-c-component-preview__iframe"
          src="{{ previewLink }}?iframe=true"
          frameBorder="0"
          allowTransparency="true"
          scrolling="auto"
        ></iframe>
      </div>

      {% set detailsHtml %}
        <h4 class="govuk-heading-s">Markup</h4>
        <pre><code class="govuk-!-f-16">{{ example.markup }}</code></pre>

        <h4 class="govuk-heading-s">Macro</h4>
        <pre class="govuk-!-mb-r0 govuk-!-f-16"><code>{{ example.snippet }}</code></pre>
      {% endset %}

      {{- govukDetails({ summaryText: "Code", html: detailsHtml }) -}}
    {% endfor %}
  </div>
{% endblock %}
